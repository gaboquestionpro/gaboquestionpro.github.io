<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/styles.css">
    <title>Admin 2 - Account Portfolio</title>

    <script src="https://code.highcharts.com/highcharts.js"></script>
</head>
<div class="topnav">
    <a class="active" href="#home">
        <img src="assets/imgs/qp-white.png" alt="logo-white" width="25" height="25">
        Admin
    </a>
</div>

<body>
    <form>
        <input type="text" id="orgIdInput" onkeyup="filterTable()" placeholder="OrgId" title="Type in an OrgId">
        <input type="text" id="emailInput" onkeyup="filterTable()" placeholder="Email Address"
            title="Type in an Email Address">
        <input type="date" id="dateInput" onkeyup="filterTable()" placeholder="Date" title="Type in a date">
        <select id="selectorInput" oninput="filterTable()">
            <option value="">License</option>
            <option value="option1">Advanced</option>
            <option value="option2">Team Edition</option>
            <option value="option3">Research Edition</option>
            <option value="option3">CX</option>
            <option value="option3">University</option>
            <option value="option3">Essentials</option>
        </select>
        <button class="btn btn-primary button-border">Filter</button>
    </form>

    <div class="cards">
        <div class="card">
            <div class="card-container">
                <p>Portfolio Value</p>
                <h1><b>$28,000</b></h1>

            </div>
        </div>
        <div class="card">
            <div class="card-container">
                <p>Accounts Renewed</p>
                <h1><b>1/40</b></h1>
            </div>

        </div>
        <div class="card">
            <div class="card-container">
                <p>Custom Metric 1</p>
                <h1><b>$28,000</b></h1>
            </div>
        </div>
        <div class="card">
            <div class="card-container">
                <p>Custom Metric 2</p>
                <h1><b>120%</b></h1>
            </div>

        </div>
    </div>

    <table id="myTable">
        <tr class="header">
            <th style="width:20%;">Status</th>
            <th style="width:20%;">ID</th>
            <th style="width:20%;">Organization</th>
            <th style="width:20%;">Primary Contact</th>
            <th style="width:20%;">Value (USD)</th>
            <th style="width:20%;">License</th>
            <th style="width:20%;">Renewal</th>
            <th style="width:20%;">Actions</th>

        </tr>
        <tr>
            <td>
                <div class="status-g"></div>
            </td>
            <td>123456</td>
            <td>Microsoft</td>
            <td>contact@contact.com</td>
            <td>$28,000</td>
            <td>Research Edition</td>
            <td>07-02-2025</td>
            <td>
                <!-- Trigger/Open The Modal -->
                <button id="myBtn" class="btn btn-link">Usage</button>

                <!-- The Modal -->
                <div id="myModal" class="modal">

                    <!-- Modal content -->
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        <div class="tab">
                            <button class="tablinks" onclick="openCity(event, 'Usage')">Usage</button>
                            <button class="tablinks" onclick="openCity(event, 'Issues')">Tickets</button>
                            <button class="tablinks" onclick="openCity(event, 'Insights')"> AI Insights</button>
                        </div>
                    <!-- Usage content -->
                        <div id="Usage" class="tabcontent">
                            <div class="tab-pane active" id="usage_overview" role="tabpanel">
                                <div id="usageReportDiv">
                                    <div class="row pa40">
                                        <div class="col-sm-4">
                                            <div class="dashboardNumber text-center"
                                                style="padding: 10px; background-color: #FBFBFB;">
                                                <h1
                                                    style="border-bottom: 1px solid #E5E5E5;padding: 20px 0;margin-top: 0;font-size:36px;color:#202A51;">
                                                    4</h1> <span style="color: #999;font-size: 18px;">Users</span>
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="dashboardNumber text-center"
                                                style="padding: 10px; background-color: #FBFBFB;">
                                                <h1
                                                    style="border-bottom: 1px solid #E5E5E5;padding: 20px 0;margin-top: 0;font-size:36px;color:#202A51;">
                                                    536</h1> <span style="color: #999;font-size: 18px;">Surveys</span>
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="dashboardNumber text-center"
                                                style="padding: 10px; background-color: #FBFBFB;">
                                                <h1
                                                    style="border-bottom: 1px solid #E5E5E5;padding: 20px 0;margin-top: 0;font-size:36px;color:#202A51;">
                                                    13.5<small class="pl5" style="color:#202A51;">K</small></h1> <span
                                                    style="color: #999;font-size: 18px;">Responses</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row pa40">
                                        <div class="col-sm-4">
                                            <div class="dashboardNumber text-center"
                                                style="padding: 10px; background-color: #FBFBFB;">
                                                <h1
                                                    style="border-bottom: 1px solid #E5E5E5;padding: 20px 0;margin-top: 0;font-size:36px;color:#202A51;">
                                                    10.3<small class="pl5" style="color:#202A51;">K</small></h1> <span
                                                    style="color: #999;font-size: 18px;">Email Addresses</span>
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="dashboardNumber text-center"
                                                style="padding: 10px; background-color: #FBFBFB;">
                                                <h1
                                                    style="border-bottom: 1px solid #E5E5E5;padding: 20px 0;margin-top: 0;font-size:36px;color:#202A51;">
                                                    10%</h1> <span style="color: #999;font-size: 18px;">Bounce Rate</span>
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="dashboardNumber text-center"
                                                style="padding: 10px; background-color: #FBFBFB;">
                                                <h1
                                                    style="border-bottom: 1px solid #E5E5E5;padding: 20px 0;margin-top: 0;font-size:36px;color:#202A51;">
                                                    0.1%</h1> <span style="color: #999;font-size: 18px;">Spam Rate</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                        </div>
                    <!-- Issues content -->
                        <div id="Issues" class="tabcontent">
                         <div class="mb-3">
                            <div class="qp-table">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Issue</th>
                                            <th>Status</th>
                                            <th>Account</th>
                                            <th>Report Date</th>
                                            <th>Last Update</th>
                                            <th>ETA</th>
                                            <th>Owner</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>3203261</td>
                                            <td>[Surveys (QP)] Email Delivery Issue - IP Blacklisted [Bug] [Client
                                                Specific] [US]</td>
                                            <td>New</td>
                                            <td>account@test.com</td>
                                            <td>Jul 16 2024</td>
                                            <td>jul 16 2024</td>
                                            <td>N/A</td>
                                            <td>John Doe</td>
                                            <td>...</td>
                                        </tr>
                                        <tr>
                                            <td>3203262</td>
                                            <td>[Surveys (QP)] Government Instance - unable to export pdf report [Bug]
                                                [Client Specific] [US]</td>
                                            <td>New</td>
                                            <td>account@test.com</td>
                                            <td>Jul 16 2024</td>
                                            <td>Jul 16 2024</td>
                                            <td>Jul 17 2024</td>
                                            <td>John Doe</td>
                                            <td>...</td>
                                        </tr>
                                        <tr>
                                            <td>3203263</td>
                                            <td>[Surveys (QP)] Storage space is not updating after delete audit files
                                                [Bug] [Client Specific] [US]</td>
                                            <td>In Review</td>
                                            <td>account@test.com</td>
                                            <td>Jul 16 2024</td>
                                            <td>Jul 16 2024</td>
                                            <td>Jul 17 2024</td>
                                            <td>John Doe</td>
                                            <td>...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        </div>
                    <!-- Insights content -->
                        <div id="Insights" class="tabcontent">
                            <form>
                                <div class="mb-3">
                                    <textarea class="form-control" id="aiinsight"  rows="25">
                                After analyzing the provided account insights, here are five next steps to contact the customer and increase their usage of QuestionPro:
                                
                                1. **Upgrade storage and API calls limit**: The customer has already exceeded the storage limit and is close to reaching the API calls limit. Consider contacting them to discuss potential storage upgrades and increasing their API calls limit to support their growing needs. This could encourage them to use QuestionPro for more data-intensive projects.
                                
                                2. **Optimize email delivery**: The customer's email bounce rate is 10%, and there are active and critical issues in delivery data. Reach out to them with best practices for improving email deliverability, such as:
                                  - Cleaning and validating their email list
                                  - Using a custom domain for sending emails
                                  - Implementing double opt-in for email subscriptions
                                
                                3. **Offer personalized onboarding or training**: The customer's account has been inactive for 40 days, indicating they might need assistance or motivation to continue using QuestionPro. Arrange a personalized onboarding session or training webinar to introduce new features, use cases, or templates that could spark their interest and boost their engagement with the platform.
                                
                                4. **Discuss the benefits of advanced features**: Based on the customer's current usage, they might not be aware of QuestionPro's more advanced features. Schedule a demo or a walkthrough of features like advanced logic, piping, and A/B testing to showcase the platform's potential and encourage increased usage.
                                
                                5. **Promote QuestionPro community and resources**: Encourage the customer to engage with QuestionPro's community and resources, such as user groups, webinars, and help articles. Sharing these resources can help them learn from other users, stay updated on best practices, and feel more connected to the platform. This, in turn, can increase their overall satisfaction and usage of QuestionPro.
                                    </textarea>
                                    <div id="insightsHelp" class="form-text">Consider that insights may not be correct, read carefully</div>
                                    <button type="submit" class="btn btn-primary">Generate Insights</button>
                                </div>
                                
                            </form>
                        </div>

                    </div>
                </div>


                <div>
                </div>
                </div>
                </div>

                </div>

                </div>

            </td>

        </tr>
        <tr>
            <td>
                <div class="status-y"></div>
            </td>
            <td>123457</td>
            <td>Apple</td>
            <td>contact@contact.com</td>
            <td>$10,000</td>
            <td>Team Edition</td>
            <td>06-08-2025</td>
            <td>
                <!-- Trigger/Open The Modal -->
                <button id="myBtn" class="btn btn-link">Usage</button></td>
        </tr>  
        <tr>
            <td>
                <div class="status-r"></div>
            </td>
            <td>123455</td>
            <td>Tesla</td>
            <td>contact@contact.com</td>
            <td>$15,000</td>
            <td>Research Edition</td>
            <td>04-02-2025</td>
            <td>
                <!-- Trigger/Open The Modal -->
                <button id="myBtn" class="btn btn-link">Usage</button></td>
        </tr>     
        
    </table>

    <script>
        function filterTable() {
            var orgIdInput = document.getElementById("orgIdInput").value.toUpperCase();
            var emailInput = document.getElementById("emailInput").value.toUpperCase();
            var table = document.getElementById("myTable");
            var tr = table.getElementsByTagName("tr");

            for (var i = 1; i < tr.length; i++) {
                var tdOrgId = tr[i].getElementsByTagName("td")[1];
                var tdEmail = tr[i].getElementsByTagName("td")[3];
                if (tdOrgId && tdEmail) {
                    var orgIdValue = tdOrgId.textContent || tdOrgId.innerText;
                    var emailValue = tdEmail.textContent || tdEmail.innerText;
                    if (orgIdValue.toUpperCase().indexOf(orgIdInput) > -1 && emailValue.toUpperCase().indexOf(emailInput) > -1) {
                        tr[i].style.display = "";
                    } else {
                        tr[i].style.display = "none";
                    }
                }
            }
        }

        // Get the modal
        var modal = document.getElementById("myModal");

        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");

        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];

        // When the user clicks the button, open the modal 
        btn.onclick = function () {
            modal.style.display = "block";
        }

        // When the user clicks on <span> (x), close the modal
        span.onclick = function () {
            modal.style.display = "none";
        }

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function (event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }


        function openCity(evt, cityName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(cityName).style.display = "block";
            evt.currentTarget.className += " active";
        }

        // Default open tab
        document.getElementsByClassName("tablinks")[0].click();
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>

</html>